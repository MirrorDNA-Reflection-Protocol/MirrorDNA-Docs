<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MirrorDNA Ecosystem | Complete Architecture Map</title>
    <meta name="description"
        content="Explore the complete MirrorDNA ecosystem - 64 repositories across 8 architectural layers for sovereign AI identity.">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0a0f;
            --bg-secondary: #12121a;
            --bg-tertiary: #1a1a24;
            --text-primary: #f0f0f5;
            --text-secondary: #a0a0b0;
            --text-muted: #606070;
            --accent-protocol: #6366f1;
            --accent-language: #a855f7;
            --accent-runtime: #22d3ee;
            --accent-application: #10b981;
            --accent-infra: #f59e0b;
            --accent-research: #ec4899;
            --accent-external: #64748b;
            --accent-awesome: #84cc16;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow: hidden;
        }

        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 100;
            padding: 1.5rem 2rem;
            background: linear-gradient(to bottom, var(--bg-primary) 0%, transparent 100%);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .logo-glyph {
            font-size: 1.5rem;
            background: linear-gradient(135deg, var(--accent-protocol), var(--accent-language));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo-text {
            font-size: 1.25rem;
            font-weight: 600;
            letter-spacing: -0.02em;
        }

        .logo-subtitle {
            font-size: 0.75rem;
            color: var(--text-muted);
            font-weight: 400;
            margin-left: 0.5rem;
        }

        .legend {
            position: fixed;
            bottom: 2rem;
            left: 2rem;
            z-index: 100;
            background: var(--bg-secondary);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 1.25rem;
            backdrop-filter: blur(20px);
            max-height: 70vh;
            overflow-y: auto;
        }

        .legend-title {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
            margin-bottom: 0.75rem;
        }

        .legend-items {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .legend-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .controls {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 100;
            display: flex;
            gap: 0.5rem;
        }

        .control-btn {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: var(--bg-secondary);
            border: 1px solid rgba(255, 255, 255, 0.08);
            color: var(--text-secondary);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.2s ease;
        }

        .control-btn:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border-color: rgba(255, 255, 255, 0.15);
        }

        .tooltip {
            position: fixed;
            padding: 1rem 1.25rem;
            background: var(--bg-secondary);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s ease;
            max-width: 350px;
            backdrop-filter: blur(20px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
            z-index: 1000;
        }

        .tooltip.visible {
            opacity: 1;
        }

        .tooltip-name {
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 0.25rem;
        }

        .tooltip-layer {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            margin-bottom: 0.5rem;
        }

        .tooltip-desc {
            font-size: 0.8rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .tooltip-hint {
            font-size: 0.7rem;
            color: var(--text-muted);
            margin-top: 0.75rem;
            padding-top: 0.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        #graph {
            width: 100vw;
            height: 100vh;
        }

        .node {
            cursor: pointer;
        }

        .node-circle {
            stroke-width: 2;
            transition: all 0.3s ease;
        }

        .node:hover .node-circle {
            stroke-width: 3;
        }

        .node-label {
            font-size: 10px;
            font-weight: 500;
            fill: var(--text-primary);
            pointer-events: none;
            text-anchor: middle;
        }

        .link {
            stroke: rgba(255, 255, 255, 0.06);
            stroke-width: 1;
            fill: none;
        }

        .info-panel {
            position: fixed;
            top: 50%;
            right: 2rem;
            transform: translateY(-50%);
            z-index: 100;
            background: var(--bg-secondary);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 1.5rem;
            width: 280px;
            backdrop-filter: blur(20px);
        }

        .info-panel h3 {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
            margin-bottom: 1rem;
        }

        .stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-protocol), var(--accent-language));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            font-size: 0.65rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .pr-status {
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .pr-status h4 {
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-muted);
            margin-bottom: 0.75rem;
        }

        .pr-item {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            margin-bottom: 0.5rem;
        }

        .pr-count {
            color: var(--accent-application);
            font-weight: 600;
        }

        .filter-buttons {
            position: fixed;
            top: 5rem;
            left: 2rem;
            z-index: 100;
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            max-width: 200px;
        }

        .filter-btn {
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
            background: var(--bg-secondary);
            border: 1px solid rgba(255, 255, 255, 0.08);
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 0.7rem;
            transition: all 0.2s ease;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border-color: rgba(255, 255, 255, 0.2);
        }

        @media (max-width: 768px) {

            .info-panel,
            .filter-buttons {
                display: none;
            }

            .legend {
                bottom: 1rem;
                left: 1rem;
                padding: 0.75rem;
                font-size: 0.65rem;
            }

            .controls {
                bottom: 1rem;
                right: 1rem;
            }
        }
    </style>
</head>

<body>
    <header class="header">
        <div class="logo">
            <a href="/"
                style="text-decoration: none; color: inherit; display: flex; align-items: center; gap: 0.75rem;">
                <span class="logo-glyph">âŸ¡</span>
                <span class="logo-text">MirrorDNA</span>
            </a>
            <span class="logo-subtitle">Ecosystem Map</span>
        </div>
        <nav style="display: flex; gap: 0.5rem; font-size: 0.8rem;">
            <a href="/"
                style="color: var(--text-secondary); text-decoration: none; padding: 0.4rem 0.8rem; border-radius: 6px; transition: all 0.2s;">Home</a>
            <a href="/story/"
                style="color: var(--text-secondary); text-decoration: none; padding: 0.4rem 0.8rem; border-radius: 6px; transition: all 0.2s;">Story</a>
            <a href="/architecture/"
                style="color: var(--text-secondary); text-decoration: none; padding: 0.4rem 0.8rem; border-radius: 6px; transition: all 0.2s;">Architecture</a>
            <a href="/principles/"
                style="color: var(--text-secondary); text-decoration: none; padding: 0.4rem 0.8rem; border-radius: 6px; transition: all 0.2s;">Principles</a>
        </nav>
    </header>

    <div class="filter-buttons">
        <button class="filter-btn active" data-layer="all">All</button>
        <button class="filter-btn" data-layer="protocol">Protocol</button>
        <button class="filter-btn" data-layer="language">Language</button>
        <button class="filter-btn" data-layer="runtime">Runtime</button>
        <button class="filter-btn" data-layer="application">Application</button>
        <button class="filter-btn" data-layer="infra">Infra</button>
        <button class="filter-btn" data-layer="research">Research</button>
        <button class="filter-btn" data-layer="awesome">Awesome</button>
        <button class="filter-btn" data-layer="external">External</button>
    </div>

    <div class="legend">
        <div class="legend-title">Architecture Layers</div>
        <div class="legend-items">
            <div class="legend-item">
                <div class="legend-dot" style="background: var(--accent-protocol);"></div><span>Protocol (Core)</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background: var(--accent-language);"></div><span>Language Layer</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background: var(--accent-runtime);"></div><span>Runtime Layer</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background: var(--accent-application);"></div><span>Application</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background: var(--accent-infra);"></div><span>Infrastructure</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background: var(--accent-research);"></div><span>Research</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background: var(--accent-awesome);"></div><span>Awesome Lists</span>
            </div>
            <div class="legend-item">
                <div class="legend-dot" style="background: var(--accent-external);"></div><span>External Forks</span>
            </div>
        </div>
    </div>

    <div class="controls">
        <button class="control-btn" id="zoomIn" title="Zoom In">+</button>
        <button class="control-btn" id="zoomOut" title="Zoom Out">âˆ’</button>
        <button class="control-btn" id="resetView" title="Reset View">âŸ²</button>
    </div>

    <div class="info-panel">
        <h3>Ecosystem Overview</h3>
        <div class="stats">
            <div class="stat">
                <div class="stat-value">8</div>
                <div class="stat-label">Layers</div>
            </div>
            <div class="stat">
                <div class="stat-value">64</div>
                <div class="stat-label">Repos</div>
            </div>
            <div class="stat">
                <div class="stat-value">51</div>
                <div class="stat-label">Public</div>
            </div>
            <div class="stat">
                <div class="stat-value">13</div>
                <div class="stat-label">Private</div>
            </div>
        </div>
        <div class="pr-status">
            <h4>Open Source Status</h4>
            <div class="pr-item"><span>Open PRs</span><span class="pr-count">23</span></div>
            <div class="pr-item"><span>Merged (7d)</span><span class="pr-count">4</span></div>
            <div class="pr-item"><span>Awaiting Review</span><span class="pr-count">19</span></div>
        </div>
    </div>

    <div class="tooltip" id="tooltip">
        <div class="tooltip-name"></div>
        <div class="tooltip-layer"></div>
        <div class="tooltip-desc"></div>
        <div class="tooltip-hint">Click to open repository â†’</div>
    </div>

    <svg id="graph"></svg>

    <script>
        const nodes = [
            // Protocol Layer (Core)
            { id: "SCD-Protocol", label: "SCD Protocol", layer: "protocol", desc: "Sovereign Compact Directive â€” Governance layer enforcing truth-state handling, memory rights, and continuity guarantees.", url: "https://github.com/MirrorDNA-Reflection-Protocol/SCD-Protocol", size: 40 },
            { id: "MirrorDNA", label: "MirrorDNA", layer: "protocol", desc: "The architecture of persistence. Protocol tier defining how AI systems maintain identity across sessions.", url: "https://github.com/MirrorDNA-Reflection-Protocol/MirrorDNA", size: 45 },
            { id: "mirrordna-zkp", label: "ZKP Module", layer: "protocol", desc: "Zero-Knowledge Proof infrastructure for identity verification without exposing sensitive kernel data.", url: "https://github.com/MirrorDNA-Reflection-Protocol/mirrordna-zkp", size: 28 },
            { id: "TrustByDesign", label: "Trust By Design", layer: "protocol", desc: "Framework for deterministic trust â€” ensuring AI systems fail safely and transparently.", url: "https://github.com/MirrorDNA-Reflection-Protocol/TrustByDesign", size: 26 },

            // Language Layer
            { id: "LingOS", label: "LingOS", layer: "language", desc: "Language-layer symbolic schema for reflective dialogue. Defines structured AI communication.", url: "https://github.com/MirrorDNA-Reflection-Protocol/lingos-kernel", size: 35 },
            { id: "BeaconGlyphs", label: "Beacon Glyphs", layer: "language", desc: "Symbolic glyph system for marking identity anchors, decisions, patterns, and synthesis.", url: "https://github.com/MirrorDNA-Reflection-Protocol/BeaconGlyphs", size: 26 },

            // Runtime Layer
            { id: "ActiveMirrorOS", label: "ActiveMirrorOS", layer: "runtime", desc: "Wrapper-first AI operating system. Real-time governance and deterministic gating.", url: "https://github.com/MirrorDNA-Reflection-Protocol/ActiveMirrorOS", size: 42 },
            { id: "MirrorDNA-Symbiosis", label: "Symbiosis", layer: "runtime", desc: "Self-healing runtime with SovereignHealer, QuantumObserver, and The Dreaming nightly evolution.", url: "https://github.com/MirrorDNA-Reflection-Protocol/MirrorDNA-Symbiosis", size: 32 },
            { id: "ami_gate", label: "AMI Gate", layer: "runtime", desc: "MCP server for identity kernel access. Enables AI agents to read/write sovereign identity.", url: "https://github.com/MirrorDNA-Reflection-Protocol/ami_gate", size: 24 },

            // Application Layer
            { id: "MirrorBrain", label: "MirrorBrain", layer: "application", desc: "The cognitive interface. WebUI integration for identity-aware AI with vault-backed memory.", url: "https://github.com/MirrorDNA-Reflection-Protocol/MirrorBrain", size: 36 },
            { id: "Reflective-Ai", label: "Reflective AI", layer: "application", desc: "Reflection over Prediction. Application layer for AI that thinks before acting.", url: "https://github.com/MirrorDNA-Reflection-Protocol/Reflective-Ai", size: 28 },
            { id: "mesh-boot-generator", label: "Mesh Boot", layer: "application", desc: "Generate your AI identity in 60 seconds. Quick-start for portable identity kernels.", url: "https://github.com/MirrorDNA-Reflection-Protocol/mesh-boot-generator", size: 24 },
            { id: "mirrordna-examples", label: "Examples", layer: "application", desc: "Example implementations across different AI platforms and use cases.", url: "https://github.com/MirrorDNA-Reflection-Protocol/mirrordna-examples", size: 22 },
            { id: "MirrorDNA-Activator", label: "Activator", layer: "application", desc: "One-click activation for MirrorDNA-compliant AI systems.", url: "https://github.com/MirrorDNA-Reflection-Protocol/MirrorDNA-Activator", size: 20 },
            { id: "MirrorDNA-Playground", label: "Playground", layer: "application", desc: "Interactive sandbox for experimenting with MirrorDNA concepts.", url: "https://github.com/MirrorDNA-Reflection-Protocol/MirrorDNA-Playground", size: 22 },

            // Infrastructure
            { id: "MirrorDNA-Standard", label: "Standard", layer: "infra", desc: "Canonical specifications, schemas, and validation tools.", url: "https://github.com/MirrorDNA-Reflection-Protocol/MirrorDNA-Standard", size: 28 },
            { id: "MirrorDNA-Docs", label: "Documentation", layer: "infra", desc: "Comprehensive documentation, tutorials, and API references.", url: "https://github.com/MirrorDNA-Reflection-Protocol/MirrorDNA-Docs", size: 24 },
            { id: "WhitePaper", label: "White Paper", layer: "infra", desc: "ActiveMirrorOS: Wrapper-First AI Systems for Governed Intelligence.", url: "https://github.com/MirrorDNA-Reflection-Protocol/ActiveMirrorOS-WhitePaper", size: 26 },
            { id: "activemirror-site", label: "Website", layer: "infra", desc: "Official MirrorDNA website and landing page.", url: "https://github.com/MirrorDNA-Reflection-Protocol/activemirror-site", size: 20 },

            // Research / Private
            { id: "AgentDNA", label: "AgentDNA", layer: "research", desc: "Advanced agent identity research. [PRIVATE]", url: "#", size: 22, private: true },
            { id: "MirrorDNA-Gauntlet", label: "Gauntlet", layer: "research", desc: "Stress-testing and red-team infrastructure. [PRIVATE]", url: "#", size: 22, private: true },
            { id: "MirrorDNA-Lattice", label: "Lattice", layer: "research", desc: "Multi-agent coordination research. [PRIVATE]", url: "#", size: 22, private: true },
            { id: "Glyphtrail", label: "Glyphtrail", layer: "research", desc: "Glyph provenance tracking. [PRIVATE]", url: "#", size: 20, private: true },
            { id: "DominancePlaybook", label: "Playbook", layer: "research", desc: "Strategic planning. [PRIVATE]", url: "#", size: 18, private: true },
            { id: "MirrorSeed", label: "MirrorSeed", layer: "research", desc: "Identity seeding experiments. [PRIVATE]", url: "#", size: 20, private: true },

            // Awesome Lists (curated knowledge)
            { id: "awesome-ai-identity", label: "ai-identity", layer: "awesome", desc: "Curated tools, protocols, and resources for persistent AI identity.", url: "https://github.com/MirrorDNA-Reflection-Protocol/awesome-ai-identity", size: 24 },
            { id: "awesome-ai-agents", label: "ai-agents", layer: "awesome", desc: "List of AI autonomous agents. Fork with MirrorDNA additions.", url: "https://github.com/MirrorDNA-Reflection-Protocol/awesome-ai-agents", size: 20 },
            { id: "awesome-ai-alignment", label: "ai-alignment", layer: "awesome", desc: "Resources for AI Alignment research.", url: "https://github.com/MirrorDNA-Reflection-Protocol/awesome-ai-alignment", size: 20 },
            { id: "awesome-ai-sdks", label: "ai-sdks", layer: "awesome", desc: "SDKs, frameworks, and tools for AI agents.", url: "https://github.com/MirrorDNA-Reflection-Protocol/awesome-ai-sdks", size: 18 },
            { id: "Awesome-LLM", label: "LLM", layer: "awesome", desc: "Curated list of Large Language Models.", url: "https://github.com/MirrorDNA-Reflection-Protocol/Awesome-LLM", size: 20 },
            { id: "awesome-llm-agents", label: "llm-agents", layer: "awesome", desc: "Awesome LLM agents frameworks.", url: "https://github.com/MirrorDNA-Reflection-Protocol/awesome-llm-agents", size: 18 },
            { id: "awesome-llm-apps", label: "llm-apps", layer: "awesome", desc: "Awesome LLM apps with AI Agents and RAG.", url: "https://github.com/MirrorDNA-Reflection-Protocol/awesome-llm-apps", size: 18 },
            { id: "awesome-langchain", label: "langchain", layer: "awesome", desc: "Tools and projects with LangChain.", url: "https://github.com/MirrorDNA-Reflection-Protocol/awesome-langchain", size: 18 },
            { id: "awesome-generative-ai", label: "gen-ai", layer: "awesome", desc: "Generative AI research and resources.", url: "https://github.com/MirrorDNA-Reflection-Protocol/awesome-generative-ai-guide", size: 18 },
            { id: "awesome-chatgpt", label: "chatgpt", layer: "awesome", desc: "ChatGPT prompt curation.", url: "https://github.com/MirrorDNA-Reflection-Protocol/awesome-chatgpt-prompts", size: 16 },
            { id: "awesome", label: "awesome", layer: "awesome", desc: "Meta-awesome list.", url: "https://github.com/MirrorDNA-Reflection-Protocol/awesome", size: 16 },

            // External / Forks with active PRs
            { id: "langgraph", label: "LangGraph", layer: "external", desc: "Build resilient agents as graphs. 2 PRs pending.", url: "https://github.com/MirrorDNA-Reflection-Protocol/langgraph", size: 24, prs: 2 },
            { id: "langchain", label: "LangChain", layer: "external", desc: "Platform for reliable agents. 1 PR merged.", url: "https://github.com/MirrorDNA-Reflection-Protocol/langchain", size: 24, prs: 0 },
            { id: "autogen", label: "AutoGen", layer: "external", desc: "Microsoft's agentic AI. 1 PR pending.", url: "https://github.com/MirrorDNA-Reflection-Protocol/autogen", size: 22, prs: 1 },
            { id: "mem0", label: "Mem0", layer: "external", desc: "Universal memory layer. 5 PRs pending.", url: "https://github.com/MirrorDNA-Reflection-Protocol/mem0", size: 24, prs: 5 },
            { id: "MemOS", label: "MemOS", layer: "external", desc: "Memory Layer for LLM Agents. 1 PR pending.", url: "https://github.com/MirrorDNA-Reflection-Protocol/MemOS", size: 20, prs: 1 },
            { id: "A-mem", label: "A-MEM", layer: "external", desc: "Agentic Memory for LLM Agents. 1 PR merged.", url: "https://github.com/MirrorDNA-Reflection-Protocol/A-mem", size: 20, prs: 0 },
            { id: "letta", label: "Letta", layer: "external", desc: "Stateful LLM agents. Research fork.", url: "https://github.com/MirrorDNA-Reflection-Protocol/letta", size: 20 },
            { id: "open-webui", label: "Open WebUI", layer: "external", desc: "Self-hosted AI interface. 1 PR pending.", url: "https://github.com/MirrorDNA-Reflection-Protocol/open-webui", size: 24, prs: 1 },
            { id: "crewAI", label: "CrewAI", layer: "external", desc: "Multi-agent orchestration.", url: "https://github.com/MirrorDNA-Reflection-Protocol/crewAI", size: 20 },
            { id: "GitPython", label: "GitPython", layer: "external", desc: "Python Git library. 3 PRs pending.", url: "https://github.com/MirrorDNA-Reflection-Protocol/GitPython", size: 20, prs: 3 },
            { id: "rich", label: "Rich", layer: "external", desc: "Rich text terminal. 1 PR pending.", url: "https://github.com/MirrorDNA-Reflection-Protocol/rich", size: 18, prs: 1 },
            { id: "click", label: "Click", layer: "external", desc: "CLI toolkit. 1 PR pending.", url: "https://github.com/MirrorDNA-Reflection-Protocol/click", size: 18, prs: 1 },
            { id: "express", label: "Express", layer: "external", desc: "Node.js framework. 1 PR closed.", url: "https://github.com/MirrorDNA-Reflection-Protocol/express", size: 18 },
            { id: "json-server", label: "json-server", layer: "external", desc: "Fake REST API.", url: "https://github.com/MirrorDNA-Reflection-Protocol/json-server", size: 16 },
            { id: "sqlite-utils", label: "sqlite-utils", layer: "external", desc: "SQLite utility. PR pending.", url: "https://github.com/MirrorDNA-Reflection-Protocol/sqlite-utils", size: 16 },
        ];

        const links = [
            // Core protocol
            { source: "MirrorDNA", target: "SCD-Protocol" },
            { source: "MirrorDNA", target: "mirrordna-zkp" },
            { source: "MirrorDNA", target: "TrustByDesign" },
            { source: "SCD-Protocol", target: "LingOS" },

            // Language to Runtime
            { source: "LingOS", target: "ActiveMirrorOS" },
            { source: "LingOS", target: "BeaconGlyphs" },
            { source: "BeaconGlyphs", target: "MirrorBrain" },

            // Runtime
            { source: "ActiveMirrorOS", target: "MirrorDNA-Symbiosis" },
            { source: "ActiveMirrorOS", target: "ami_gate" },
            { source: "MirrorDNA-Symbiosis", target: "MirrorBrain" },
            { source: "ami_gate", target: "MirrorBrain" },

            // Application
            { source: "MirrorBrain", target: "Reflective-Ai" },
            { source: "MirrorDNA", target: "mesh-boot-generator" },
            { source: "MirrorDNA", target: "mirrordna-examples" },
            { source: "MirrorDNA", target: "MirrorDNA-Activator" },
            { source: "MirrorDNA", target: "MirrorDNA-Playground" },

            // Infrastructure
            { source: "MirrorDNA", target: "MirrorDNA-Standard" },
            { source: "MirrorDNA", target: "MirrorDNA-Docs" },
            { source: "ActiveMirrorOS", target: "WhitePaper" },
            { source: "MirrorDNA", target: "activemirror-site" },

            // Research connections
            { source: "MirrorDNA", target: "AgentDNA" },
            { source: "ActiveMirrorOS", target: "MirrorDNA-Gauntlet" },
            { source: "MirrorDNA", target: "MirrorDNA-Lattice" },
            { source: "BeaconGlyphs", target: "Glyphtrail" },
            { source: "MirrorDNA", target: "MirrorSeed" },

            // Awesome cluster connections
            { source: "MirrorDNA", target: "awesome-ai-identity" },
            { source: "awesome-ai-identity", target: "awesome-ai-agents" },
            { source: "awesome-ai-identity", target: "awesome-ai-alignment" },
            { source: "awesome-ai-agents", target: "awesome-llm-agents" },
            { source: "Awesome-LLM", target: "awesome-llm-apps" },
            { source: "awesome-langchain", target: "langchain" },

            // External integrations
            { source: "MirrorBrain", target: "open-webui" },
            { source: "ActiveMirrorOS", target: "langgraph" },
            { source: "ActiveMirrorOS", target: "langchain" },
            { source: "ActiveMirrorOS", target: "autogen" },
            { source: "MirrorDNA-Symbiosis", target: "mem0" },
            { source: "MirrorDNA-Symbiosis", target: "MemOS" },
            { source: "MirrorDNA-Symbiosis", target: "A-mem" },
            { source: "Reflective-Ai", target: "crewAI" },
            { source: "MirrorDNA-Symbiosis", target: "letta" },
        ];

        const layerColors = {
            protocol: "#6366f1",
            language: "#a855f7",
            runtime: "#22d3ee",
            application: "#10b981",
            infra: "#f59e0b",
            research: "#ec4899",
            awesome: "#84cc16",
            external: "#64748b"
        };

        const layerNames = {
            protocol: "Protocol Layer",
            language: "Language Layer",
            runtime: "Runtime Layer",
            application: "Application Layer",
            infra: "Infrastructure",
            research: "Research (Private)",
            awesome: "Awesome Lists",
            external: "External Forks"
        };

        const svg = d3.select("#graph");
        const width = window.innerWidth;
        const height = window.innerHeight;
        svg.attr("width", width).attr("height", height);

        const defs = svg.append("defs");
        const filter = defs.append("filter")
            .attr("id", "glow")
            .attr("x", "-50%").attr("y", "-50%")
            .attr("width", "200%").attr("height", "200%");
        filter.append("feGaussianBlur").attr("stdDeviation", "2").attr("result", "coloredBlur");
        const feMerge = filter.append("feMerge");
        feMerge.append("feMergeNode").attr("in", "coloredBlur");
        feMerge.append("feMergeNode").attr("in", "SourceGraphic");

        const container = svg.append("g");

        const zoom = d3.zoom()
            .scaleExtent([0.2, 4])
            .on("zoom", (event) => container.attr("transform", event.transform));
        svg.call(zoom);

        let currentFilter = "all";

        const simulation = d3.forceSimulation(nodes)
            .force("link", d3.forceLink(links).id(d => d.id).distance(80))
            .force("charge", d3.forceManyBody().strength(-300))
            .force("center", d3.forceCenter(width / 2, height / 2))
            .force("collision", d3.forceCollide().radius(d => d.size + 15));

        const link = container.append("g")
            .selectAll("line")
            .data(links)
            .join("line")
            .attr("class", "link");

        const node = container.append("g")
            .selectAll("g")
            .data(nodes)
            .join("g")
            .attr("class", "node")
            .call(d3.drag()
                .on("start", dragstarted)
                .on("drag", dragged)
                .on("end", dragended));

        node.append("circle")
            .attr("class", "node-circle")
            .attr("r", d => d.size)
            .attr("fill", d => layerColors[d.layer])
            .attr("stroke", d => layerColors[d.layer])
            .attr("fill-opacity", d => d.private ? 0.08 : 0.12)
            .attr("stroke-dasharray", d => d.private ? "3,3" : "none")
            .attr("filter", "url(#glow)");

        node.append("text")
            .attr("class", "node-label")
            .attr("dy", d => d.size + 14)
            .text(d => d.label);

        const tooltip = document.getElementById("tooltip");

        node.on("mouseenter", (event, d) => {
            tooltip.querySelector(".tooltip-name").textContent = d.label + (d.private ? " ðŸ”’" : "");
            tooltip.querySelector(".tooltip-layer").textContent = layerNames[d.layer];
            tooltip.querySelector(".tooltip-layer").style.color = layerColors[d.layer];
            let desc = d.desc;
            if (d.prs) desc += ` (${d.prs} PR${d.prs > 1 ? 's' : ''} open)`;
            tooltip.querySelector(".tooltip-desc").textContent = desc;
            tooltip.querySelector(".tooltip-hint").textContent = d.private ? "Private repository" : "Click to open repository â†’";
            tooltip.style.left = (event.pageX + 20) + "px";
            tooltip.style.top = (event.pageY - 20) + "px";
            tooltip.classList.add("visible");
        });

        node.on("mousemove", (event) => {
            tooltip.style.left = (event.pageX + 20) + "px";
            tooltip.style.top = (event.pageY - 20) + "px";
        });

        node.on("mouseleave", () => tooltip.classList.remove("visible"));

        node.on("click", (event, d) => {
            if (d.url && d.url !== "#") window.open(d.url, "_blank");
        });

        simulation.on("tick", () => {
            link.attr("x1", d => d.source.x).attr("y1", d => d.source.y)
                .attr("x2", d => d.target.x).attr("y2", d => d.target.y);
            node.attr("transform", d => `translate(${d.x},${d.y})`);
        });

        function dragstarted(event) {
            if (!event.active) simulation.alphaTarget(0.3).restart();
            event.subject.fx = event.subject.x;
            event.subject.fy = event.subject.y;
        }

        function dragged(event) {
            event.subject.fx = event.x;
            event.subject.fy = event.y;
        }

        function dragended(event) {
            if (!event.active) simulation.alphaTarget(0);
            event.subject.fx = null;
            event.subject.fy = null;
        }

        // Filter functionality
        document.querySelectorAll(".filter-btn").forEach(btn => {
            btn.addEventListener("click", () => {
                document.querySelectorAll(".filter-btn").forEach(b => b.classList.remove("active"));
                btn.classList.add("active");
                currentFilter = btn.dataset.layer;

                node.style("opacity", d => currentFilter === "all" || d.layer === currentFilter ? 1 : 0.15);
                link.style("opacity", d => {
                    if (currentFilter === "all") return 1;
                    return (d.source.layer === currentFilter || d.target.layer === currentFilter) ? 1 : 0.05;
                });
            });
        });

        document.getElementById("zoomIn").addEventListener("click", () => svg.transition().call(zoom.scaleBy, 1.3));
        document.getElementById("zoomOut").addEventListener("click", () => svg.transition().call(zoom.scaleBy, 0.7));
        document.getElementById("resetView").addEventListener("click", () => svg.transition().call(zoom.transform, d3.zoomIdentity));

        window.addEventListener("resize", () => {
            const w = window.innerWidth, h = window.innerHeight;
            svg.attr("width", w).attr("height", h);
            simulation.force("center", d3.forceCenter(w / 2, h / 2)).alpha(0.3).restart();
        });
    </script>
</body>

</html>